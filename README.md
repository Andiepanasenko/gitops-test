# üöÄ GitOps Infrastructure –¥–ª—è spam2000

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –º—ñ—Å—Ç–∏—Ç—å –ø–æ–≤–Ω—É GitOps —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É spam2000 –∑ —Å–∏—Å—Ç–µ–º–æ—é –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É.

## üìã –í–º—ñ—Å—Ç

- [–¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω—ñ—á–Ω–∏–π-—Å—Ç–µ–∫)
- [–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞)
- [–í–∏–º–æ–≥–∏](#–≤–∏–º–æ–≥–∏)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- [GitOps](#gitops)
- [–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥](#–º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç—É)

## üõ† –¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
| --- | --- | --- |
| **Orchestration** | Minikube | –õ–æ–∫–∞–ª—å–Ω–∏–π Kubernetes –∫–ª–∞—Å—Ç–µ—Ä |
| **Monitoring** | VictoriaMetrics | –ó–±—ñ—Ä —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –º–µ—Ç—Ä–∏–∫ |
| **Visualization** | Grafana | –î–∞—à–±–æ—Ä–¥–∏ —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è |
| **Package Manager** | Helm | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è Kubernetes –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞–º–∏ |
| **GitOps** | ArgoCD | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞–Ω–Ω—è –∑ Git |
| **Application** | spam2000 | –î–æ–¥–∞—Ç–æ–∫ —è–∫–∏–π –≥–µ–Ω–µ—Ä—É—î –º–µ—Ç—Ä–∏–∫–∏ |

## üèó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Minikube Cluster                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ   ArgoCD     ‚îÇ  ‚îÇ VictoriaMetrics‚îÇ ‚îÇ   Grafana   ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  (GitOps)    ‚îÇ  ‚îÇ  (Metrics DB) ‚îÇ ‚îÇ (Dashboards) ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îÇ                                                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ            spam2000 Application                    ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ   Pod 1  ‚îÇ  ‚îÇ   Pod 2  ‚îÇ  ‚îÇ   Pod N  ‚îÇ        ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚úÖ –í–∏–º–æ–≥–∏

–ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

- **kubectl** >= 1.24
- **helm** >= 3.8
- **minikube** >= 1.28
- **git** (–¥–ª—è –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é)

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–º–æ–≥

```bash
kubectl version --client
helm version
minikube version
```

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```bash
git clone https://github.com/Andiepanasenko/gitops-test.git
cd gitops-test
```

### 2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
./setup.sh
```

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω–∞—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫—Ä–æ–∫–∏:
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å Minikube –∫–ª–∞—Å—Ç–µ—Ä
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ArgoCD –¥–ª—è GitOps
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å VictoriaMetrics –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Grafana –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º–∏ –¥–∞—à–±–æ—Ä–¥–∞–º–∏
- ‚úÖ –†–æ–∑–≥–æ—Ä–Ω–µ spam2000 –¥–æ–¥–∞—Ç–æ–∫
- ‚úÖ –ù–∞–ª–∞—à—Ç—É—î GitOps —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é

**–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** ~5-10 —Ö–≤–∏–ª–∏–Ω

## üìñ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –î–æ—Å—Ç—É–ø –¥–æ ArgoCD (GitOps UI)

```bash
kubectl port-forward svc/argocd-server -n argocd 8080:443
```

- URL: https://localhost:8080
- Username: `admin`
- Password: (–æ—Ç—Ä–∏–º–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥–æ—é –Ω–∏–∂—á–µ)

```bash
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d
```

### –î–æ—Å—Ç—É–ø –¥–æ Grafana

```bash
kubectl port-forward svc/grafana -n monitoring 3000:80
```

- URL: http://localhost:3000
- Username: `admin`
- Password: `admin`

### –î–æ—Å—Ç—É–ø –¥–æ –¥–æ–¥–∞—Ç–∫—É spam2000

```bash
kubectl port-forward svc/spam2000 -n spam2000 3000:80
```

- URL: http://localhost:3000
- –ú–µ—Ç—Ä–∏–∫–∏: http://localhost:3000/metrics

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –¥–æ–¥–∞—Ç–∫—É

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ pod'—ñ–≤
kubectl get pods -n spam2000

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ—Ä–≤—ñ—Å—ñ–≤
kubectl get svc -n spam2000

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
kubectl get all -n spam2000
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ VictoriaMetrics
kubectl get pods -n monitoring

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Grafana
kubectl get pods -n monitoring | grep grafana

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
kubectl port-forward svc/victoria-metrics-k8s-stack-victoria-metrics -n monitoring 8428:8428
curl http://localhost:8428/metrics
```

## üîÑ GitOps

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GitOps –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

1. **–û–Ω–æ–≤—ñ—Ç—å URL –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ñ:**
   ```bash
   # –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª manifests/argocd-app.yaml
   # –ó–∞–º—ñ–Ω—ñ—Ç—å Andiepanasenko/gitops-test —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
   ```

2. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub:**
   ```bash
   git init
   git add .
   git commit -m "Initial commit: GitOps infrastructure"
   git remote add origin https://github.com/Andiepanasenko/gitops-test.git
   git push -u origin main
   ```

3. **–ó–∞—Å—Ç–æ—Å—É–π—Ç–µ ArgoCD Application:**
   ```bash
   kubectl apply -f manifests/argocd-app.yaml
   ```

4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ ArgoCD UI:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ https://localhost:8080
   - –ó–∞–π–¥—ñ—Ç—å —è–∫ admin
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–æ–¥–∞—Ç–∫—É

### –Ø–∫ –ø—Ä–∞—Ü—é—î GitOps

1. ArgoCD –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å –≤–∞—à Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –ü—Ä–∏ –∑–º—ñ–Ω—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –≤ Git, ArgoCD –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î –∑–º—ñ–Ω–∏
3. Kubernetes —Ä–µ—Å—É—Ä—Å–∏ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è GitOps

1. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `helm/spam2000/values.yaml`:
   ```yaml
   replicas: 3  # –ó–º—ñ–Ω—ñ—Ç—å –∑ 2 –Ω–∞ 3
   ```

2. –ó–∞–∫–æ–º—ñ—Ç—å—Ç–µ –∑–º—ñ–Ω–∏:
   ```bash
   git add helm/spam2000/values.yaml
   git commit -m "Scale spam2000 to 3 replicas"
   git push
   ```

3. ArgoCD –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—è–≤–∏—Ç—å –∑–º—ñ–Ω–∏ —Ç–∞ –æ–Ω–æ–≤–∏—Ç—å deployment

4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ ArgoCD UI –∞–±–æ –∫–æ–º–∞–Ω–¥–æ—é:
   ```bash
   kubectl get pods -n spam2000
   ```

### Manual —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è

```bash
# –ß–µ—Ä–µ–∑ UI ArgoCD –∞–±–æ CLI
argocd app sync spam2000-app
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –î–∞—à–±–æ—Ä–¥–∏ Grafana

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –¥–≤–∞ –≥–æ—Ç–æ–≤—ñ –¥–∞—à–±–æ—Ä–¥–∏:

1. **Kubernetes Cluster Overview** - –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∫–ª–∞—Å—Ç–µ—Ä–∞
   - CPU Usage
   - Memory Usage
   - Pod Status
   - Node Status

2. **spam2000 Application Monitoring** - –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–æ–¥–∞—Ç–∫—É
   - HTTP Requests Rate
   - Active Pods
   - Pod CPU Usage
   - Pod Memory Usage
   - Request Latency

### –ú–µ—Ç—Ä–∏–∫–∏ spam2000

–î–æ–¥–∞—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –µ–∫—Å–ø–æ—Ä—Ç—É—î –º–µ—Ç—Ä–∏–∫–∏ –≤ Prometheus —Ñ–æ—Ä–º–∞—Ç:
- `http_requests_total` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å HTTP –∑–∞–ø–∏—Ç—ñ–≤
- `http_request_duration_seconds` - –∑–∞—Ç—Ä–∏–º–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
pdffiller-infra/
‚îú‚îÄ‚îÄ setup.sh                          # –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
‚îú‚îÄ‚îÄ README.md                          # –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ main.py                            # –°—Ç–∞—Ä–∏–π —Ñ–∞–π–ª (–º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏)
‚îÇ
‚îú‚îÄ‚îÄ helm/                              # Helm charts
‚îÇ   ‚îî‚îÄ‚îÄ spam2000/
‚îÇ       ‚îú‚îÄ‚îÄ Chart.yaml                 # –û–ø–∏—Å chart'—É
‚îÇ       ‚îú‚îÄ‚îÄ values.yaml                # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
‚îÇ       ‚îî‚îÄ‚îÄ templates/
‚îÇ           ‚îú‚îÄ‚îÄ deployment.yaml        # Kubernetes Deployment
‚îÇ           ‚îú‚îÄ‚îÄ service.yaml           # Kubernetes Service
‚îÇ           ‚îî‚îÄ‚îÄ servicemonitor.yaml   # Prometheus ServiceMonitor
‚îÇ
‚îú‚îÄ‚îÄ manifests/                         # Kubernetes manifests
‚îÇ   ‚îú‚îÄ‚îÄ argocd-app.yaml               # ArgoCD Application
‚îÇ   ‚îî‚îÄ‚îÄ grafana-dashboards.yaml       # Grafana dashboards ConfigMap
‚îÇ
‚îî‚îÄ‚îÄ dashboards/                        # JSON —Ñ–∞–π–ª–∏ –¥–∞—à–±–æ—Ä–¥—ñ–≤
    ‚îú‚îÄ‚îÄ cluster-overview.json          # Dashboard –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞
    ‚îî‚îÄ‚îÄ spam2000-app.json             # Dashboard –¥–ª—è –¥–æ–¥–∞—Ç–∫—É
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ó–º—ñ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ spam2000

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `helm/spam2000/values.yaml`:

```yaml
replicas: 2                    # –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ø—ñ–π –¥–æ–¥–∞—Ç–∫—É
env:
  requestRate: "10"            # –Ü–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤
resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "256Mi"
    cpu: "200m"
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ GitOps

```bash
# 1. –ó–º—ñ–Ω—ñ—Ç—å values.yaml
# 2. –ö–æ–º—ñ—Ç —Ç–∞ push
git add helm/spam2000/values.yaml
git commit -m "Update spam2000 configuration"
git push

# 3. ArgoCD –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î –∑–º—ñ–Ω–∏
```

## üßπ –û—á–∏—â–µ–Ω–Ω—è

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

```bash
# –í–∏–¥–∞–ª–µ–Ω–Ω—è ArgoCD
helm uninstall argocd -n argocd
kubectl delete namespace argocd

# –í–∏–¥–∞–ª–µ–Ω–Ω—è spam2000
helm uninstall spam2000 -n spam2000
kubectl delete namespace spam2000

# –í–∏–¥–∞–ª–µ–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
helm uninstall victoria-metrics -n monitoring
helm uninstall grafana -n monitoring
kubectl delete namespace monitoring

# –ó—É–ø–∏–Ω–∫–∞ Minikube
minikube stop
minikube delete
```

### –ü–æ–≤–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è

```bash
minikube delete
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ Minikube

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
minikube status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
minikube stop
minikube start

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
minikube logs
```

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø–æ–¥–∞–º–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤
kubectl logs -n spam2000 <pod-name>

# –û–ø–∏—Å –ø–æ–¥–∞
kubectl describe pod -n spam2000 <pod-name>

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É
kubectl rollout restart deployment/spam2000 -n spam2000
```

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ ServiceMonitor
kubectl get servicemonitor -n spam2000

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
kubectl port-forward svc/spam2000 -n spam2000 8080:80
curl http://localhost:8080/metrics
```

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è DevOps Engineer.

## üë§ –ê–≤—Ç–æ—Ä

–í–∞—à–µ —ñ–º'—è

---

**–£—Å–ø—ñ—Ö—ñ–≤ –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º! üöÄ**

