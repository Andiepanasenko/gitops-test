apiVersion: v1
data:
  cluster-overview.json: |-
    {
      "title": "Kubernetes Cluster - Complete Overview",
      "tags": ["kubernetes", "cluster", "overview"],
        "timezone": "browser",
        "schemaVersion": 16,
        "version": 1,
        "refresh": "30s",
        "panels": [
          {
            "id": 1,
          "title": "Cluster Resources Summary",
          "type": "stat",
          "gridPos": {"h": 4, "w": 24, "x": 0, "y": 0},
            "targets": [
              {
              "expr": "count(kube_node_info)",
              "legendFormat": "Nodes",
              "refId": "A"
            },
            {
              "expr": "count(kube_pod_info)",
              "legendFormat": "Total Pods",
              "refId": "B"
            },
            {
              "expr": "count(kube_pod_status_phase{phase=\"Running\"})",
              "legendFormat": "Running Pods",
              "refId": "C"
            },
            {
              "expr": "count(kube_namespace_labels)",
              "legendFormat": "Namespaces",
              "refId": "D"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "displayMode": "basic",
                "orientation": "horizontal"
              }
            }
          }
          },
          {
            "id": 2,
          "title": "Node CPU Usage",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
            "targets": [
              {
              "expr": "sum(rate(container_cpu_usage_seconds_total{container!=\"POD\", container!=\"\"}[5m])) by (instance)",
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
          },
          {
            "id": 3,
          "title": "Node Memory Usage",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4},
            "targets": [
              {
              "expr": "sum(container_memory_working_set_bytes{container!=\"POD\", container!=\"\"}) by (instance)",
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "bytes",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
          },
          {
            "id": 4,
          "title": "Pod Status by Phase",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12},
            "targets": [
              {
              "expr": "count by (phase) (kube_pod_status_phase)",
              "legendFormat": "{{phase}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 5,
          "title": "Pods by Namespace",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12},
          "targets": [
            {
              "expr": "count by (namespace) (kube_pod_info)",
              "legendFormat": "{{namespace}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 6,
          "title": "Container Restarts",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 20},
          "targets": [
            {
              "expr": "sum(rate(container_start_time_seconds[5m])) by (namespace)",
              "legendFormat": "{{namespace}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 7,
          "title": "Network I/O",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 20},
          "targets": [
            {
              "expr": "sum(rate(container_network_receive_bytes_total[5m])) by (namespace)",
              "legendFormat": "{{namespace}} - Receive",
              "refId": "A"
            },
            {
              "expr": "sum(rate(container_network_transmit_bytes_total[5m])) by (namespace)",
              "legendFormat": "{{namespace}} - Transmit",
              "refId": "B"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "binBps",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 8,
          "title": "Disk Usage",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 28},
          "targets": [
            {
              "expr": "sum(container_fs_usage_bytes{container!=\"POD\", container!=\"\"}) by (instance)",
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "bytes",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 9,
          "title": "API Server Requests",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 28},
          "targets": [
            {
              "expr": "sum(rate(apiserver_request_total[5m])) by (verb)",
              "legendFormat": "{{verb}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "reqps",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        }
      ]
    }
  spam2000-app.json: |-
    {
      "title": "spam2000 Application - Golden Signals",
      "tags": ["spam2000", "application", "golden-signals"],
        "timezone": "browser",
        "schemaVersion": 16,
        "version": 1,
        "refresh": "30s",
        "panels": [
          {
            "id": 1,
          "title": "Application Overview",
          "type": "stat",
          "gridPos": {"h": 4, "w": 24, "x": 0, "y": 0},
            "targets": [
              {
              "expr": "count(kube_pod_info{namespace=\"spam2000\"})",
              "legendFormat": "Total Pods",
              "refId": "A",
              "instant": true
            },
            {
              "expr": "count(kube_pod_status_phase{namespace=\"spam2000\", phase=\"Running\"})",
              "legendFormat": "Running Pods",
              "refId": "B",
              "instant": true
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "displayMode": "basic",
                "orientation": "horizontal"
              }
            }
          }
          },
          {
            "id": 2,
          "title": "Restarting Pods",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
            "targets": [
              {
                       "expr": "rate(kube_pod_container_status_restarts_total{container=\"spam2000\"}[5m])",
                       "legendFormat": "{{pod}}",
                       "refId": "A"
                     }
                   ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
          },
          {
            "id": 3,
            "title": "Pod CPU Usage",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4},
            "targets": [
              {
              "expr": "rate(container_cpu_usage_seconds_total{namespace=\"spam2000\", container!=\"POD\", container!=\"\"}[5m])",
              "legendFormat": "{{pod}} - {{container}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
          },
          {
            "id": 4,
            "title": "Pod Memory Usage",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12},
            "targets": [
              {
              "expr": "container_memory_working_set_bytes{namespace=\"spam2000\", container!=\"POD\", container!=\"\"}",
              "legendFormat": "{{pod}} - {{container}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "bytes",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 7,
          "type": "timeseries",
          "title": "CPU Requests vs Limits",
          "gridPos": {
            "x": 12,
            "y": 20,
            "h": 8,
            "w": 12
          },
          "fieldConfig": {
            "defaults": {
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "showValues": false,
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "axisColorMode": "text",
                "axisBorderShow": false,
                "scaleDistribution": {
                  "type": "linear"
                },
                "axisCenteredZero": false,
                "hideFrom": {
                  "tooltip": false,
                  "viz": false,
                  "legend": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "value": null,
                    "color": "green"
                  },
                  {
                    "value": 80,
                    "color": "red"
                  }
                ]
              },
              "min": 0,
              "unit": "short"
            },
            "overrides": []
          },
          "targets": [
            {
              "expr": "kube_pod_container_resource_requests{namespace=\"spam2000\", resource=\"cpu\"}",
              "legendFormat": "{{pod}} - CPU Request",
              "refId": "A"
            },
            {
              "expr": "kube_pod_container_resource_limits{namespace=\"spam2000\", resource=\"cpu\"}",
              "legendFormat": "{{pod}} - CPU Limit",
              "refId": "B"
            }
          ]
          },
          {
            "id": 5,
          "title": "Memory Requests vs Limits",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12},
            "targets": [
              {
              "expr": "kube_pod_container_resource_requests{namespace=\"spam2000\", resource=\"memory\"}",
              "legendFormat": "{{pod}} - Memory Request",
              "refId": "A"
            },
            {
              "expr": "kube_pod_container_resource_limits{namespace=\"spam2000\", resource=\"memory\"}",
              "legendFormat": "{{pod}} - Memory Limit",
              "refId": "B"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "bytes",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 6,
          "title": "Container Restarts",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
          "targets": [
            {
              "expr": "rate(container_start_time_seconds{namespace=\"spam2000\"}[5m])",
              "legendFormat": "{{pod}} - {{container}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        }
      ]
    }
  system-components.json: |
    {
      "title": "Kubernetes System Components",
      "tags": ["kubernetes", "system", "components"],
      "timezone": "browser",
      "schemaVersion": 16,
      "version": 1,
      "refresh": "30s",
      "panels": [
        {
          "id": 1,
          "title": "System Components Status",
          "type": "stat",
          "gridPos": {"h": 4, "w": 24, "x": 0, "y": 0},
          "targets": [
            {
              "expr": "count(kube_pod_info{namespace=\"kube-system\"})",
              "legendFormat": "Total System Pods",
              "refId": "A"
            },
            {
              "expr": "count(kube_pod_status_phase{namespace=\"kube-system\", phase=\"Running\"})",
              "legendFormat": "Running System Pods",
              "refId": "B"
            },
            {
              "expr": "count(kube_pod_info{namespace=\"kube-system\", pod=~\"etcd.*\"})",
              "legendFormat": "etcd Pods",
              "refId": "C"
            },
            {
              "expr": "count(kube_pod_info{namespace=\"kube-system\", pod=~\"kube-apiserver.*\"})",
              "legendFormat": "API Server Pods",
              "refId": "D"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "displayMode": "basic",
                "orientation": "horizontal"
              }
            }
          }
        },
        {
          "id": 2,
          "title": "API Server Performance",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
          "targets": [
            {
              "expr": "sum(rate(apiserver_request_total[5m])) by (verb)",
              "legendFormat": "{{verb}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "reqps",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 3,
          "title": "API Server Response Times",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4},
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(apiserver_request_duration_seconds_bucket[5m])) by (le))",
              "legendFormat": "95th percentile",
              "refId": "A"
            },
            {
              "expr": "histogram_quantile(0.50, sum(rate(apiserver_request_duration_seconds_bucket[5m])) by (le))",
              "legendFormat": "50th percentile",
              "refId": "B"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "s",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 4,
          "title": "Scheduler Performance",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12},
          "targets": [
            {
              "expr": "sum(rate(scheduler_scheduling_algorithm_duration_seconds_count[5m]))",
              "legendFormat": "Scheduling Rate",
              "refId": "A"
            },
            {
              "expr": "histogram_quantile(0.95, sum(rate(scheduler_scheduling_algorithm_duration_seconds_bucket[5m])) by (le))",
              "legendFormat": "95th percentile",
              "refId": "B"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 5,
          "title": "Controller Manager Performance",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12},
          "targets": [
            {
              "expr": "sum(rate(workqueue_adds_total[5m])) by (name)",
              "legendFormat": "{{name}} - Adds",
              "refId": "A"
            },
            {
              "expr": "sum(rate(workqueue_depth[5m])) by (name)",
              "legendFormat": "{{name}} - Depth",
              "refId": "B"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 6,
          "title": "etcd Pod Status",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 20},
          "targets": [
            {
              "expr": "kube_pod_status_phase{namespace=\"kube-system\", pod=~\"etcd.*\"}",
              "legendFormat": "{{pod}} - {{phase}}",
              "refId": "A"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "max": 1,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 7,
          "title": "System Pod Resource Usage",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 20},
          "targets": [
            {
              "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"kube-system\", container!=\"POD\", container!=\"\"}[5m])) by (pod)",
              "legendFormat": "{{pod}} - CPU",
              "refId": "A"
            },
            {
              "expr": "sum(container_memory_working_set_bytes{namespace=\"kube-system\", container!=\"POD\", container!=\"\"}) by (pod)",
              "legendFormat": "{{pod}} - Memory",
              "refId": "B"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        }
      ]
    }
  victoriametrics-complete.json: |-
    {
      "title": "VictoriaMetrics - Complete Overview",
      "tags": ["victoriametrics", "vm-k8s-stack", "monitoring"],
      "timezone": "browser",
      "schemaVersion": 16,
      "version": 1,
      "refresh": "30s",
      "panels": [
        {
          "id": 1,
          "title": "VictoriaMetrics Components Status",
          "type": "stat",
          "gridPos": {"h": 4, "w": 24, "x": 0, "y": 0},
          "targets": [
            {
              "expr": "count(kube_pod_info{namespace=\"monitoring\", pod=~\"vmagent.*\"})",
              "legendFormat": "vmagent Pods",
              "refId": "A"
            },
            {
              "expr": "count(kube_pod_info{namespace=\"monitoring\", pod=~\"vmalert.*\"})",
              "legendFormat": "vmalert Pods",
              "refId": "B"
            },
            {
              "expr": "count(kube_pod_info{namespace=\"monitoring\", pod=~\"vmsingle.*\"})",
              "legendFormat": "vmsingle Pods",
              "refId": "C"
            },
            {
              "expr": "count(kube_pod_info{namespace=\"monitoring\", pod=~\"vmoperator.*\"})",
              "legendFormat": "vmoperator Pods",
              "refId": "D"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "displayMode": "basic",
                "orientation": "horizontal"
              }
            }
          }
        },
        {
          "id": 2,
          "title": "VictoriaMetrics Components - CPU Usage",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
          "targets": [
            {
              "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"monitoring\", pod=~\"vmagent.*\"}[5m]))",
              "legendFormat": "vmagent - CPU",
              "refId": "A"
            },
            {
              "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"monitoring\", pod=~\"vmalert.*\"}[5m]))",
              "legendFormat": "vmalert - CPU",
              "refId": "B"
            },
            {
              "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"monitoring\", pod=~\"vmsingle.*\"}[5m]))",
              "legendFormat": "vmsingle - CPU",
              "refId": "C"
            },
            {
              "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"monitoring\", pod=~\"vmoperator.*\"}[5m]))",
              "legendFormat": "vmoperator - CPU",
              "refId": "D"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 3,
          "title": "VictoriaMetrics Components - Memory Usage",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4},
          "targets": [
            {
              "expr": "sum(container_memory_working_set_bytes{namespace=\"monitoring\", pod=~\"vmagent.*\"})",
              "legendFormat": "vmagent - Memory",
              "refId": "A"
            },
            {
              "expr": "sum(container_memory_working_set_bytes{namespace=\"monitoring\", pod=~\"vmalert.*\"})",
              "legendFormat": "vmalert - Memory",
              "refId": "B"
            },
            {
              "expr": "sum(container_memory_working_set_bytes{namespace=\"monitoring\", pod=~\"vmsingle.*\"})",
              "legendFormat": "vmsingle - Memory",
              "refId": "C"
            },
            {
              "expr": "sum(container_memory_working_set_bytes{namespace=\"monitoring\", pod=~\"vmoperator.*\"})",
              "legendFormat": "vmoperator - Memory",
              "refId": "D"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "bytes",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 4,
          "title": "VictoriaMetrics Components - Container Restarts",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12},
          "targets": [
            {
              "expr": "sum(rate(container_start_time_seconds{namespace=\"monitoring\", pod=~\"vmagent.*\"}[5m]))",
              "legendFormat": "vmagent - Restarts",
              "refId": "A"
            },
            {
              "expr": "sum(rate(container_start_time_seconds{namespace=\"monitoring\", pod=~\"vmalert.*\"}[5m]))",
              "legendFormat": "vmalert - Restarts",
              "refId": "B"
            },
            {
              "expr": "sum(rate(container_start_time_seconds{namespace=\"monitoring\", pod=~\"vmsingle.*\"}[5m]))",
              "legendFormat": "vmsingle - Restarts",
              "refId": "C"
            },
            {
              "expr": "sum(rate(container_start_time_seconds{namespace=\"monitoring\", pod=~\"vmoperator.*\"}[5m]))",
              "legendFormat": "vmoperator - Restarts",
              "refId": "D"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 5,
          "title": "VictoriaMetrics Components - Network I/O",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12},
          "targets": [
            {
              "expr": "sum(rate(container_network_receive_bytes_total{namespace=\"monitoring\", pod=~\"vmagent.*\"}[5m]))",
              "legendFormat": "vmagent - Receive",
              "refId": "A"
            },
            {
              "expr": "sum(rate(container_network_transmit_bytes_total{namespace=\"monitoring\", pod=~\"vmagent.*\"}[5m]))",
              "legendFormat": "vmagent - Transmit",
              "refId": "B"
            },
            {
              "expr": "sum(rate(container_network_receive_bytes_total{namespace=\"monitoring\", pod=~\"vmalert.*\"}[5m]))",
              "legendFormat": "vmalert - Receive",
              "refId": "C"
            },
            {
              "expr": "sum(rate(container_network_transmit_bytes_total{namespace=\"monitoring\", pod=~\"vmalert.*\"}[5m]))",
              "legendFormat": "vmalert - Transmit",
              "refId": "D"
            },
            {
              "expr": "sum(rate(container_network_receive_bytes_total{namespace=\"monitoring\", pod=~\"vmsingle.*\"}[5m]))",
              "legendFormat": "vmsingle - Receive",
              "refId": "E"
            },
            {
              "expr": "sum(rate(container_network_transmit_bytes_total{namespace=\"monitoring\", pod=~\"vmsingle.*\"}[5m]))",
              "legendFormat": "vmsingle - Transmit",
              "refId": "F"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "binBps",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 6,
          "title": "VictoriaMetrics Components - Pod Status by Phase",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 20},
          "targets": [
            {
              "expr": "count(kube_pod_status_phase{namespace=\"monitoring\", pod=~\"vmagent.*\"}) by (phase)",
              "legendFormat": "vmagent - {{phase}}",
              "refId": "A"
            },
            {
              "expr": "count(kube_pod_status_phase{namespace=\"monitoring\", pod=~\"vmalert.*\"}) by (phase)",
              "legendFormat": "vmalert - {{phase}}",
              "refId": "B"
            },
            {
              "expr": "count(kube_pod_status_phase{namespace=\"monitoring\", pod=~\"vmsingle.*\"}) by (phase)",
              "legendFormat": "vmsingle - {{phase}}",
              "refId": "C"
            },
            {
              "expr": "count(kube_pod_status_phase{namespace=\"monitoring\", pod=~\"vmoperator.*\"}) by (phase)",
              "legendFormat": "vmoperator - {{phase}}",
              "refId": "D"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "short",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        },
        {
          "id": 7,
          "title": "VictoriaMetrics Components - Disk I/O",
          "type": "timeseries",
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 20},
          "targets": [
            {
              "expr": "sum(rate(container_fs_reads_bytes_total{namespace=\"monitoring\", pod=~\"vmagent.*\"}[5m]))",
              "legendFormat": "vmagent - Read",
              "refId": "A"
            },
            {
              "expr": "sum(rate(container_fs_writes_bytes_total{namespace=\"monitoring\", pod=~\"vmagent.*\"}[5m]))",
              "legendFormat": "vmagent - Write",
              "refId": "B"
            },
            {
              "expr": "sum(rate(container_fs_reads_bytes_total{namespace=\"monitoring\", pod=~\"vmalert.*\"}[5m]))",
              "legendFormat": "vmalert - Read",
              "refId": "C"
            },
            {
              "expr": "sum(rate(container_fs_writes_bytes_total{namespace=\"monitoring\", pod=~\"vmalert.*\"}[5m]))",
              "legendFormat": "vmalert - Write",
              "refId": "D"
            },
            {
              "expr": "sum(rate(container_fs_reads_bytes_total{namespace=\"monitoring\", pod=~\"vmsingle.*\"}[5m]))",
              "legendFormat": "vmsingle - Read",
              "refId": "E"
            },
            {
              "expr": "sum(rate(container_fs_writes_bytes_total{namespace=\"monitoring\", pod=~\"vmsingle.*\"}[5m]))",
              "legendFormat": "vmsingle - Write",
              "refId": "F"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "unit": "binBps",
              "min": 0,
              "custom": {
                "drawStyle": "line",
                "lineInterpolation": "linear",
                "barAlignment": 0,
                "lineWidth": 1,
                "fillOpacity": 10,
                "gradientMode": "none",
                "spanNulls": false,
                "insertNulls": false,
                "showPoints": "never",
                "pointSize": 5,
                "stacking": {
                  "mode": "none",
                  "group": "A"
                },
                "axisPlacement": "auto",
                "axisLabel": "",
                "scaleDistribution": {
                  "type": "linear"
                },
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "vis": false
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            }
          }
        }
      ]
    }
kind: ConfigMap
metadata:
  name: grafana-dashboards
  namespace: monitoring
